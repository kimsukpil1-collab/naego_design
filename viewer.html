<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAEGO DESIGN — 시안 보기</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { background:#060606; color:#e8e0d0; font-family:'Noto Sans KR',sans-serif; }

        /* 상단 바 */
        .top-bar {
            position:fixed; top:0; left:0; right:0; z-index:100;
            display:flex; justify-content:space-between; align-items:center;
            padding:12px 20px; gap:12px;
            background:rgba(6,6,6,0.97);
            border-bottom:1px solid rgba(201,168,76,0.2);
        }
        .top-logo {
            font-family:'Cinzel',serif; font-size:1.1rem; font-weight:900;
            background:linear-gradient(90deg,#7a5a1a,#f0d080,#c9a84c);
            background-size:200% auto;
            -webkit-background-clip:text; -webkit-text-fill-color:transparent;
            animation:shine 4s linear infinite;
            text-decoration:none; white-space:nowrap;
        }
        @keyframes shine { to { background-position:200% center; } }
        .top-title {
            font-size:0.82rem; color:#c9a84c; font-weight:700;
            white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
            flex:1; text-align:center;
        }
        .back-btn {
            padding:8px 16px;
            border:1px solid rgba(201,168,76,0.4);
            color:#c9a84c; font-size:0.78rem; font-weight:700;
            border-radius:3px; text-decoration:none; white-space:nowrap;
        }

        /* PC 레이아웃 */
        .viewer { padding-top:60px; min-height:100vh; }
        .viewer-inner {
            display:flex; justify-content:center; align-items:flex-start;
            max-width:1500px; margin:0 auto; padding:30px 20px;
            gap:0;
        }

        /* 좌측 버전 목록 — 화면 세로 중앙에 고정 */
        .side-left {
            position:fixed;
            top:50%;
            transform:translateY(-50%);
            left:calc(50% - 430px - 230px - 60px); /* 이미지 중심 기준으로 왼쪽 배치 */
            width:230px;
            z-index:50;
        }
        .side-label {
            font-size:0.82rem; letter-spacing:2px; color:#c9a84c;
            font-weight:900; padding:10px 14px 10px;
            border:1px solid rgba(201,168,76,0.4);
            border-radius:5px;
            margin-bottom:10px; display:block;
            text-align:center;
            background:rgba(201,168,76,0.06);
        }
        .ver-btn {
            display:block; padding:10px 14px;
            background:transparent;
            border:1px solid transparent;
            border-radius:4px; cursor:pointer;
            text-decoration:none; transition:all 0.2s;
            font-size:0.82rem; color:#999; font-weight:700; line-height:1.4;
            margin-bottom:2px;
        }
        .ver-btn:hover { color:#f0d080; border-color:rgba(201,168,76,0.35); background:rgba(201,168,76,0.05); }
        .ver-btn.active { background:rgba(201,168,76,0.12); border-color:rgba(201,168,76,0.5); color:#f0d080; }
        .ver-btn .vnum { color:#c9a84c; font-size:0.72rem; margin-right:6px; }

        /* 이미지 */
        .img-wrap {
            flex:0 0 860px; max-width:860px;
            /* 양쪽 사이드패널 자리 확보를 위해 margin으로 띄움 */
            margin-left: 290px;  /* 230px 패널 + 60px 여백 */
            margin-right: 230px; /* 170px 패널 + 60px 여백 */
        }
        .img-wrap img { width:100%; height:auto; display:block; }
        .loading {
            display:flex; justify-content:center; align-items:center;
            height:60vh; color:#555; font-size:0.9rem; width:100%;
        }

        /* 우측 액션 버튼 — 화면 세로 중앙에 고정 */
        .side-right {
            position:fixed;
            top:50%;
            transform:translateY(-50%);
            right:calc(50% - 430px - 170px - 60px); /* 이미지 중심 기준으로 오른쪽 배치 */
            width:170px;
            display:flex; flex-direction:column; gap:8px;
            z-index:50;
        }
        .action-btn {
            display:block; width:100%; padding:14px 8px;
            font-weight:900; font-size:0.85rem;
            border:none; border-radius:6px; cursor:pointer;
            text-align:center; text-decoration:none;
            line-height:1.5; transition:opacity 0.2s;
        }
        .action-btn:hover { opacity:0.85; }
        .action-btn.gold { background:linear-gradient(135deg,#7a5a1a,#c9a84c); color:#000; }
        .action-btn.green { background:linear-gradient(135deg,#03c75a,#029648); color:#fff; }
        .action-btn.outline {
            background:transparent;
            border:1px solid rgba(201,168,76,0.3);
            color:#c9a84c; font-size:0.8rem;
        }
        .action-btn.fullscreen {
            background:rgba(255,255,255,0.05);
            border:1px solid rgba(255,255,255,0.15);
            color:#bbb; font-size:0.8rem; margin-top:4px;
        }
        .action-btn.fullscreen strong { color:#fff; font-size:0.95rem; }

        /* 모바일 하단 */
        .mobile-bottom {
            display:none;
            position:fixed; bottom:0; left:0; right:0; z-index:200;
            background:rgba(6,6,6,0.98);
            border-top:1px solid rgba(201,168,76,0.2);
            padding:10px 12px;
        }
        .mob-row { display:flex; gap:7px; }
        .mob-btn {
            flex:1; padding:13px 4px;
            font-weight:900; font-size:0.78rem;
            border:none; border-radius:6px; cursor:pointer;
            text-align:center; text-decoration:none; display:block;
            -webkit-tap-highlight-color:transparent;
        }
        .mob-btn.gold { background:linear-gradient(135deg,#7a5a1a,#c9a84c); color:#000; }
        .mob-btn.green { background:linear-gradient(135deg,#03c75a,#029648); color:#fff; }
        .mob-btn.ver { background:rgba(201,168,76,0.12); border:1px solid rgba(201,168,76,0.35); color:#c9a84c; }

        /* 드롭다운 */
        .drop-overlay {
            display:none; position:fixed; inset:0; z-index:250;
            background:rgba(0,0,0,0.6);
        }
        .drop-overlay.open { display:block; }
        .ver-dropdown {
            display:none;
            position:fixed; bottom:80px; left:10px; right:10px; z-index:300;
            background:#111;
            border:1px solid rgba(201,168,76,0.3);
            border-radius:10px; overflow:hidden;
            max-height:58vh; overflow-y:auto;
        }
        .ver-dropdown.open { display:block; }
        .drop-label {
            padding:12px 16px 10px; font-size:0.65rem; letter-spacing:3px;
            color:rgba(201,168,76,0.6); font-weight:700;
            border-bottom:1px solid rgba(255,255,255,0.06);
            text-align:center;
        }
        .drop-item {
            display:block; padding:13px 16px;
            font-size:0.88rem; color:#999; font-weight:700;
            border-bottom:1px solid rgba(255,255,255,0.04);
            cursor:pointer; text-decoration:none; transition:background 0.15s;
        }
        .drop-item:last-child { border-bottom:none; }
        .drop-item:hover, .drop-item.active { background:rgba(201,168,76,0.1); color:#f0d080; }
        .drop-item .dnum { color:#c9a84c; margin-right:8px; font-size:0.72rem; }

        @media (max-width:960px) {
            .side-left, .side-right { display:none; }
            .mobile-bottom { display:block; }
            .viewer { padding-top:60px; padding-bottom:75px; }
            .viewer-inner { padding:0; }
            .img-wrap { width:100%; max-width:100%; flex:none; margin-left:0; margin-right:0; }
            .top-title { font-size:0.7rem; }
        }

        /* 화면 너비가 좁을 때 사이드패널 위치 자동 조정 */
        @media (max-width:1400px) and (min-width:961px) {
            .side-left { left: 10px; }
            .side-right { right: 10px; }
            .img-wrap { margin-left: 0; margin-right: 0; }
        }
    </style>
</head>
<body>

<div class="top-bar">
    <a href="index.html" class="top-logo">NAEGO DESIGN</a>
    <span class="top-title" id="topTitle"></span>
    <a href="index.html" class="back-btn">돌아가기</a>
</div>

<div class="viewer">
    <div class="viewer-inner">

        <div class="side-left">
            <span class="side-label">다른 버전 보기</span>
            <div id="verList"></div>
        </div>

        <div class="img-wrap">
            <div class="loading" id="loading">이미지 로딩 중...</div>
            <img id="mainImg" src="" alt="시안" style="display:none;"
                 onload="document.getElementById('loading').style.display='none'; this.style.display='block';"
                 onerror="document.getElementById('loading').innerHTML='이미지를 불러올 수 없습니다.';">
        </div>

        <div class="side-right">
            <a href="index.html#order" class="action-btn gold">이 버전으로<br>상담 요청</a>
            <a href="https://smartstore.naver.com/pxq1/products/12976242217" target="_blank" class="action-btn green">네이버<br>스토어 주문</a>
            <a href="index.html" class="action-btn outline">← 홈으로</a>
            <button onclick="toggleFullscreen()" class="action-btn fullscreen"><strong>F11</strong><br>전체화면 보기</button>
        </div>

    </div>
</div>

<div class="mobile-bottom">
    <div class="mob-row">
        <a href="index.html#order" class="mob-btn gold">상담 요청</a>
        <button class="mob-btn ver" onclick="toggleDropdown()">다른 버전 ▲</button>
        <a href="https://smartstore.naver.com/pxq1/products/12976242217" target="_blank" class="mob-btn green">네이버 주문</a>
    </div>
</div>

<div class="drop-overlay" id="dropOverlay" onclick="closeDropdown()"></div>
<div class="ver-dropdown" id="verDropdown">
    <div class="drop-label">다른 버전 보기</div>
</div>

<script>
    const BASE = "https://raw.githubusercontent.com/kimsukpil1-collab/naego_design/main/";
    const VERSIONS = [
        {num:1,  title:"기본 전환 구조형"},
        {num:2,  title:"문제 해결 강조형"},
        {num:3,  title:"구조 설계형"},
        {num:4,  title:"신뢰 구축형"},
        {num:5,  title:"구매 심리 중심형"},
        {num:6,  title:"고가 브랜드 전략형"},
        {num:7,  title:"모듈형 구조 설계"},
        {num:8,  title:"데이터 기반 설계형"},
        {num:9,  title:"카테고리 지배형"},
        {num:10, title:"광고 연동 전환형"},
        {num:11, title:"브랜드 지배형"},
        {num:12, title:"경쟁사 무력화형"},
        {num:13, title:"프리미엄 전용 전략형"},
        {num:14, title:"심리 해킹형"},
        {num:15, title:"매출 시스템 구축형"},
    ];

    const params = new URLSearchParams(window.location.search);
    let currentVer = parseInt(params.get('v')) || 1;

    // PC 좌측 목록
    const verList = document.getElementById('verList');
    VERSIONS.forEach(v => {
        const a = document.createElement('a');
        a.href = '#';
        a.className = 'ver-btn' + (v.num === currentVer ? ' active' : '');
        a.innerHTML = `<span class="vnum">V${String(v.num).padStart(2,'0')}</span>${v.title} 보기`;
        a.onclick = e => { e.preventDefault(); loadVersion(v.num); };
        verList.appendChild(a);
    });

    // 모바일 드롭다운
    const dropdown = document.getElementById('verDropdown');
    VERSIONS.forEach(v => {
        const a = document.createElement('a');
        a.href = '#';
        a.className = 'drop-item' + (v.num === currentVer ? ' active' : '');
        a.innerHTML = `<span class="dnum">V${String(v.num).padStart(2,'0')}</span>${v.title}`;
        a.onclick = e => { e.preventDefault(); loadVersion(v.num); closeDropdown(); };
        dropdown.appendChild(a);
    });

    function loadVersion(num) {
        currentVer = num;
        const v = VERSIONS.find(v => v.num === num);
        const file = `h02_v${String(num).padStart(2,'0')}.jpg`;

        document.querySelectorAll('.ver-btn').forEach((el,i) => el.classList.toggle('active', VERSIONS[i].num === num));
        document.querySelectorAll('.drop-item').forEach((el,i) => el.classList.toggle('active', VERSIONS[i].num === num));

        const img = document.getElementById('mainImg');
        const loading = document.getElementById('loading');
        img.style.display = 'none';
        loading.style.display = 'flex';
        loading.innerHTML = '이미지 로딩 중...';
        img.src = BASE + file;

        document.getElementById('topTitle').textContent = `버전 ${num} — ${v.title}`;
        document.title = `NAEGO — 버전 ${num} ${v.title}`;
        history.pushState(null, '', `?v=${num}`);
        window.scrollTo(0, 0);
    }

    function toggleFullscreen() {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen().catch(e => console.log(e));
        } else {
            document.exitFullscreen();
        }
    }

    function toggleDropdown() {
        const dd = document.getElementById('verDropdown');
        const ov = document.getElementById('dropOverlay');
        if (dd.classList.contains('open')) { closeDropdown(); return; }
        dd.classList.add('open');
        ov.classList.add('open');
        const active = dd.querySelector('.active');
        if (active) setTimeout(() => active.scrollIntoView({block:'center'}), 50);
    }

    function closeDropdown() {
        document.getElementById('verDropdown').classList.remove('open');
        document.getElementById('dropOverlay').classList.remove('open');
    }

    // 화면 크기에 따라 사이드패널 위치 동적 조정
    function adjustSidePanels() {
        const vw = window.innerWidth;
        if (vw <= 960) return;

        const imgWidth = 860;
        const imgLeft = (vw - imgWidth) / 2;

        const sideLeft = document.querySelector('.side-left');
        const sideRight = document.querySelector('.side-right');

        const gap = 60; // 이미지와 패널 사이 여백
        const imgRight = imgLeft + imgWidth; // 이미지 오른쪽 끝 위치

        sideLeft.style.left = Math.max(10, imgLeft - 230 - gap) + 'px';

        // right 값 = 화면 오른쪽 끝에서 (이미지 오른쪽끝 + gap) 만큼 안쪽
        const rightVal = Math.max(10, vw - imgRight - gap - 170);
        sideRight.style.right = rightVal + 'px';
        sideRight.style.left = 'auto';
    }

    window.addEventListener('resize', adjustSidePanels);
    adjustSidePanels();

    loadVersion(currentVer);
</script>
</body>
</html>
