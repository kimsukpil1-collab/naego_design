<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAEGO DESIGN — 시안 보기</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { background:#060606; color:#e8e0d0; font-family:'Noto Sans KR',sans-serif; }

        /* 상단 바 */
        .top-bar {
            position:fixed; top:0; left:0; right:0; z-index:100;
            display:flex; justify-content:space-between; align-items:center;
            padding:14px 20px;
            background:rgba(6,6,6,0.95);
            backdrop-filter:blur(12px);
            border-bottom:1px solid rgba(201,168,76,0.2);
        }
        .top-logo {
            font-family:'Cinzel',serif; font-size:1rem; font-weight:900;
            background:linear-gradient(90deg,#7a5a1a,#f0d080,#c9a84c);
            background-size:200% auto;
            -webkit-background-clip:text; -webkit-text-fill-color:transparent;
            animation:shine 4s linear infinite;
            text-decoration:none;
        }
        @keyframes shine { to { background-position:200% center; } }

        .top-title {
            font-size:0.8rem; color:#c9a84c; font-weight:700;
            letter-spacing:1px;
        }
        .back-btn {
            padding:8px 16px;
            border:1px solid rgba(201,168,76,0.4);
            color:#c9a84c; font-size:0.78rem; font-weight:700;
            border-radius:3px; text-decoration:none;
            transition:all 0.2s;
        }
        .back-btn:hover { background:rgba(201,168,76,0.1); }

        /* 버전 선택 탭 */
        .ver-tabs {
            position:fixed; top:53px; left:0; right:0; z-index:99;
            display:flex; overflow-x:auto; gap:4px;
            padding:10px 16px;
            background:rgba(6,6,6,0.95);
            border-bottom:1px solid rgba(201,168,76,0.1);
            scrollbar-width:none;
        }
        .ver-tabs::-webkit-scrollbar { display:none; }
        .ver-tab {
            padding:6px 14px; border-radius:3px;
            font-size:0.75rem; font-weight:700;
            border:1px solid rgba(201,168,76,0.2);
            color:#666; cursor:pointer; white-space:nowrap;
            transition:all 0.2s; background:transparent;
        }
        .ver-tab:hover { color:#c9a84c; border-color:rgba(201,168,76,0.5); }
        .ver-tab.active {
            background:linear-gradient(135deg,#7a5a1a,#c9a84c);
            color:#000; border-color:transparent;
        }

        /* 이미지 뷰어 */
        .viewer {
            padding-top:110px;
            min-height:100vh;
        }
        .img-wrap {
            width:100%;
            overflow-x:auto;
            overflow-y:auto;
            display:flex;
            justify-content:center;
        }
        .img-wrap img {
            width:100%;
            max-width:600px;
            height:auto;
            display:block;
        }

        /* 하단 상담 버튼 */
        .bottom-bar {
            position:fixed; bottom:0; left:0; right:0;
            padding:14px 20px;
            background:rgba(6,6,6,0.97);
            border-top:1px solid rgba(201,168,76,0.2);
            display:flex; gap:10px;
        }
        .btn-consult {
            flex:1; padding:14px;
            background:linear-gradient(135deg,#7a5a1a,#c9a84c);
            color:#000; font-weight:900; font-size:0.9rem;
            border:none; border-radius:6px; cursor:pointer;
            text-align:center; text-decoration:none; display:block;
        }
        .btn-order {
            flex:1; padding:14px;
            background:linear-gradient(135deg,#03c75a,#029648);
            color:#fff; font-weight:900; font-size:0.9rem;
            border:none; border-radius:6px; cursor:pointer;
            text-align:center; text-decoration:none; display:block;
        }

        /* 로딩 */
        .loading {
            display:flex; justify-content:center; align-items:center;
            height:60vh; color:#555; font-size:0.9rem;
        }
    </style>
</head>
<body>

<div class="top-bar">
    <a href="index.html" class="top-logo">NAEGO DESIGN</a>
    <span class="top-title" id="topTitle">버전 1</span>
    <a href="index.html" class="back-btn">← 돌아가기</a>
</div>

<div class="ver-tabs" id="verTabs">
    <!-- JS로 생성 -->
</div>

<div class="viewer">
    <div class="img-wrap">
        <div class="loading" id="loading">이미지 로딩 중...</div>
        <img id="mainImg" src="" alt="시안" style="display:none;"
             onload="document.getElementById('loading').style.display='none'; this.style.display='block';"
             onerror="document.getElementById('loading').innerHTML='이미지를 불러올 수 없습니다.';">
    </div>
</div>

<div class="bottom-bar">
    <a href="index.html#order" class="btn-consult">이 버전으로 상담 요청</a>
    <a href="https://smartstore.naver.com/pxq1/products/12976242217" target="_blank" class="btn-order">네이버 스토어 주문</a>
</div>

<script>
    const BASE = "https://raw.githubusercontent.com/kimsukpil1-collab/naego_design/main/";
    const VERSIONS = [
        { num:1,  title:"기본 전환 구조형" },
        { num:2,  title:"문제 해결 강조형" },
        { num:3,  title:"구조 설계형" },
        { num:4,  title:"신뢰 구축형" },
        { num:5,  title:"구매 심리 중심형" },
        { num:6,  title:"고가 브랜드 전략형" },
        { num:7,  title:"모듈형 구조 설계" },
        { num:8,  title:"데이터 기반 설계형" },
        { num:9,  title:"카테고리 지배형" },
        { num:10, title:"광고 연동 전환형" },
        { num:11, title:"브랜드 지배형" },
        { num:12, title:"경쟁사 무력화형" },
        { num:13, title:"프리미엄 전용 전략형" },
        { num:14, title:"심리 해킹형" },
        { num:15, title:"매출 시스템 구축형" },
    ];

    // URL에서 버전 번호 가져오기
    const params = new URLSearchParams(window.location.search);
    let currentVer = parseInt(params.get('v')) || 1;

    // 탭 생성
    const tabsEl = document.getElementById('verTabs');
    VERSIONS.forEach(v => {
        const btn = document.createElement('button');
        btn.className = 'ver-tab' + (v.num === currentVer ? ' active' : '');
        btn.textContent = `V${String(v.num).padStart(2,'0')}`;
        btn.onclick = () => loadVersion(v.num);
        tabsEl.appendChild(btn);
    });

    function loadVersion(num) {
        currentVer = num;
        const v = VERSIONS.find(v => v.num === num);
        const file = `h02_v${String(num).padStart(2,'0')}.jpg`;

        // 탭 활성화
        document.querySelectorAll('.ver-tab').forEach((t,i) => {
            t.classList.toggle('active', VERSIONS[i].num === num);
        });

        // 활성 탭 스크롤
        const activeTab = tabsEl.children[num-1];
        activeTab.scrollIntoView({ behavior:'smooth', block:'nearest', inline:'center' });

        // 이미지 로드
        const img = document.getElementById('mainImg');
        const loading = document.getElementById('loading');
        img.style.display = 'none';
        loading.style.display = 'flex';
        loading.innerHTML = '이미지 로딩 중...';
        img.src = BASE + file;

        // 제목 업데이트
        document.getElementById('topTitle').textContent = `버전 ${num} — ${v.title}`;
        document.title = `NAEGO DESIGN — 버전 ${num} ${v.title}`;

        // URL 업데이트
        history.pushState(null, '', `?v=${num}`);

        // 맨 위로
        window.scrollTo(0, 0);
    }

    // 초기 로드
    loadVersion(currentVer);
</script>
</body>
</html>
